✅ 網頁進入流程

1️⃣ 國家站點判斷與重定向（高優先）
* 來源資料：
    * x-vercel-ip-country（或其他 CDN geo headers）
    * 備用：IP → 國家對應表（MaxMind GeoLite2）
    * 靜態設定：countryToPrefixMap = { "TW": "/tw", "US": "/us", "JP": "/jp" }
    * 設定：enableGeoRedirect, forceRedirect
* 邏輯流程：
    1. 若 enableGeoRedirect = false，跳過此步。
    2. 取得國家代碼 UserCountry
    3. 查詢 TargetPrefix = countryToPrefixMap[UserCountry]
    4. 取得當前路徑前綴 CurrentPrefix
    5. 如果 forceRedirect == true 且 CurrentPrefix !== TargetPrefix，則 302 redirect 至新路徑
    6. 否則，將 UserCountry, TargetPrefix 傳給前端元件作 UI 使用

2️⃣ 語系資料 API 呼叫（只在初次或 Cookie 過期時）
* 條件： 若無語系 Cookie 或語系版本過期
* API： /api/ssr/languages?project=minmax2025&language=[預設語系]
* 語系判斷優先順序：
    1. 瀏覽器語言偏好 (Accept-Language header)
    2. 地理位置推薦語系 (基於步驟 1 的國家代碼)
    3. 系統預設語系 (zh-TW)
* 回傳：
    * 可用語系清單
    * 預設語系

3️⃣ Cookie 檢查與語系設定
* 步驟：
    1. 讀取語系 Cookie
    2. 若無或版本過期 → 呼叫步驟 2 的語系 API
    3. 將語系資料與版本寫入 Set-Cookie

4️⃣ 解析網址語系與 API 參數組裝
* 取得語系方式：
    1. 從 URL /zh-TW/... 判斷語系（語系前綴）
    2. 若無 → 用語系 Cookie → 再無 → 用預設語系
* API 組參數：language = [當前語系]
* uri 
    * 如果 URL 有匹配到國家/語系前綴格式，才移除對應的前綴部分
    * 如果沒有匹配到，則保持原始路徑不變

* 語系切換建議：若語系 ≠ 使用者偏好語系(有匹配到語系資料) → 顯示「建議切換到 XX 語系」

5️⃣ 呼叫內容 API 與錯誤處理
* 內容 API： /api/ssr/page/detail?project=minmax2025&language=[語系]&uri=[路徑]

* 回傳處理：
    * 若有資料 → 渲染
    * 若無資料或錯誤 → 回傳 { notFound: true } → 顯示 404
